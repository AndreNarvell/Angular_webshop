<h1 class="text-white text-center mt-4">Your cart</h1>

<section class="container">
  <div *ngIf="cartProducts.length === 0">
    <h5 class="text-white text-center mt-5">NO ITEMS... YET!</h5>
  </div>

  <div *ngIf="cartProducts.length >= 1" class="mt-5 ml-3">
    <p class="text-white">Here are your items:</p>
    <h5
      class="text-white"
      *ngFor="let cartMovie of cartProducts; let i = index"
    >
      {{ cartMovie.name }}
      <button
        class="btn btn-outline-light ml-3 px-2 py-0"
        style="border-radius: 10px; border-width: thin"
        (click)="deleteMovieSnackBar('Item was deleted. ', 'Dismiss')"
        (click)="deleteMovie(i)"
      >
        x
      </button>
    </h5>

    <h2 class="text-white mt-5">Total price : {{ totalAmount }}</h2>

    <div class="form-group">
      <form [formGroup]="userForm" (ngSubmit)="completePurchase()">
        <p class="text-white mt-4">Log in</p>
        <input
          class="form-control"
          type="text"
          placeholder="Username"
          formControlName="username"
        />
        <input
          class="form-control mt-1"
          type="password"
          placeholder="Password"
          formControlName="password"
        />

        <button
          (click)="orderCompletedSnackBar('Thank you for ordering', 'Dismiss')"
          class="btn btn-outline-light p-2 mt-2"
          style="border-radius: 10px"
          type="submit"
          [disabled]="!userForm.valid"
        >
          Purchase
        </button>
      </form>
    </div>
    <button
      class="btn btn-outline-light p-2 mt-5"
      style="border-radius: 10px"
      (click)="emptyCartSnackBar('Oh no! I so sad 2 C U go', 'Dismiss')"
      (click)="emptyCart()"
    >
      Empty cart
    </button>
  </div>
</section>
